Домашнее задание N2
===================
По стажировке в pt

Условия заданий:
- https://github.com/PTinternship/ptpy-p1
- https://github.com/PTinternship/ptpy-p2

Предыдущие задания:
- hw1 `commit 8822e70174fc03b45ddcfe524b388630ae12a1cd`

Установка
---------

Установить докер

Создать виртуальное окружение

Установить зависимости
```
pip install -r requirements.txt
```

Тестирование
------------
Перед использованием нужно убедиться в наличии файлов `controls.json` и `env.json` и убедиться, что порт 23022 
не используется каким-либо приложением.

Формат файла `controls.json`:
```
[
  ["000_test_file_exists", "File named 'testfile' is present in the root folder on target system."],
  ["456","some other control"]
]
```

Формат файла `env.json`:
```
{
  "host": "localhost",
  "transports": {
    "SSH": {
      "password": "pwd",
      "login": "root",
      "port": 22022
    }
  }
}
```

Чтобы тесты прошли успешно, нужно оставить скрипт `000_test_file_exists.py` в папке `script` и не изменять его.

Запуск тестов производится из директории проекта командой:
```
python -m pytest test
```

Пример использования
--------------------
```
python main.py
```

Требования к скриптам
---------------------
- Скрипт должен находиться в папке `scripts`, быть написан на ЯП Python3 и иметь функцию run() (которая будет запускаться движком)
- Чтобы отлавливать ошибки транспорта, их нужно импортировать:
```
from transports import TransportError, UnknownTransport, TransportConnetionError
```
- Чтобы подключтиться по ssh, нужно использовать функцию `get_transport`. Те данные, что не переданы входными 
  параметрами будут браться из файла `env.json` (Параметр `transport_name` остается обязательным)
- Пример скрипта `000_test_file_exists.py` находится в папке `scripts`


Отклонения от условия задания
----------------------------
- В проекте идентификатор контролера - это всегда название скрипта без расширения (т.к. в условии выполнения задания не указано явно 
  другое)
- Вместо "голых" запросов использовалось ORM peewee
- Вместо несвязных таблиц и дублирования данных было принято решение сделать таблицы связными в целях избавления от 
  избыточности
  